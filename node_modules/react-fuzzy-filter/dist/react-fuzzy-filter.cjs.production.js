"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var n,t=e(require("valoo")),r=e(require("fuse.js")),u=require("react"),i=e(u),a=require("tslib"),c=e(require("debounce"));function o(e){var n=function(n){var t=u.useState(""),a=t[0],c=t[1];u.useEffect(function(){return e.on(function(e){c(e.v)})},[]);var o=function(e){var t=function(e){var t=n.items;return(n.prefilters||[]).forEach(function(n){var u=n.regex,i=n.handler,a=e.match(u)||[];e=e.replace(u,"").trim(),a.forEach(function(e){t=i(e,t,r)})}),{items:t,search:e}}(e||""),u=t.items,i=t.search;return""===i.trim()?n.defaultAllItems?u:[]:new r(u,n.fuseConfig).search(i)}(a);return i.createElement(u.Fragment,null,n.children(o))};return n.displayName="FilterResults",n.defaultProps={defaultAllItems:!0,prefilters:[]},n}!function(e){e[e.Initial=0]="Initial",e[e.Input=1]="Input",e[e.External=2]="External"}(n||(n={}));var f={classPrefix:"react-fuzzy-filter",debounceTime:0,inputProps:{},onChange:function(e){return e}};function l(e){function t(t,r){var u=r(t);e({t:n.Input,v:u})}var r=function(r){var o=r.initialSearch||"",l=r.onChange||f.onChange,s=r.debounceTime||f.debounceTime,p=u.useState(o),v=p[0],m=p[1],d=u.useCallback(c(t,s),[s]);u.useEffect(function(){return e.on(function(e){e.t===n.External&&m(e.v)})},[]),u.useEffect(function(){t(o,l)},[o,l]);return i.createElement("input",a.__assign({className:r.classPrefix+"__input",onChange:function(e){var n=e.target.value;m(n),s?d(n,l):t(n,l)},value:v},r.inputProps))};return r.displayName="InputFilter",r.defaultProps=f,r}module.exports=function(){var e=function(e){var n=t(e),r=e,u=function(e){r=e,n(e)};return u.on=function(e){return e(r),n.on(e)},u}({t:n.Initial,v:""});return{FilterResults:o(e),InputFilter:l(e),changeInputValue:function(t){e({t:n.External,v:"string"!=typeof t?"":t})}}};
//# sourceMappingURL=react-fuzzy-filter.cjs.production.js.map
